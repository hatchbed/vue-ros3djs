(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("three"),require("roslib"),require("@tweenjs/tween.js"),require("ros3d")):"function"===typeof define&&define.amd?define(["three","roslib","@tweenjs/tween.js","ros3d"],t):"object"===typeof exports?exports["vue-ros3djs"]=t(require("three"),require("roslib"),require("@tweenjs/tween.js"),require("ros3d")):e["vue-ros3djs"]=t(e["three"],e["roslib"],e["@tweenjs/tween.js"],e["ros3d"])})("undefined"!==typeof self?self:this,(function(e,t,i,n){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fae3")}({"06cf":function(e,t,i){var n=i("83ab"),r=i("d1e7"),o=i("5c6c"),s=i("fc6a"),c=i("a04b"),u=i("5135"),a=i("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=s(e),t=c(t),a)try{return h(e,t)}catch(i){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},"0cfb":function(e,t,i){var n=i("83ab"),r=i("d039"),o=i("cc12");e.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"1be4":function(e,t,i){var n=i("d066");e.exports=n("document","documentElement")},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"23cb":function(e,t,i){var n=i("a691"),r=Math.max,o=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):o(i,t)}},"23e7":function(e,t,i){var n=i("da84"),r=i("06cf").f,o=i("9112"),s=i("6eeb"),c=i("ce4e"),u=i("e893"),a=i("94ca");e.exports=function(e,t){var i,h,f,l,p,d,b=e.target,m=e.global,v=e.stat;if(h=m?n:v?n[b]||c(b,{}):(n[b]||{}).prototype,h)for(f in t){if(p=t[f],e.noTargetGet?(d=r(h,f),l=d&&d.value):l=h[f],i=a(m?f:b+(v?".":"#")+f,e.forced),!i&&void 0!==l){if(typeof p===typeof l)continue;u(p,l)}(e.sham||l&&l.sham)&&o(p,"sham",!0),s(h,f,p,e)}}},"241c":function(e,t,i){var n=i("ca84"),r=i("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},"2d00":function(e,t,i){var n,r,o=i("da84"),s=i("342f"),c=o.process,u=o.Deno,a=c&&c.versions||u&&u.version,h=a&&a.v8;h?(n=h.split("."),r=n[0]<4?1:n[0]+n[1]):s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=n[1]))),e.exports=r&&+r},"342f":function(e,t,i){var n=i("d066");e.exports=n("navigator","userAgent")||""},"37e8":function(e,t,i){var n=i("83ab"),r=i("9bf2"),o=i("825a"),s=i("df75");e.exports=n?Object.defineProperties:function(e,t){o(e);var i,n=s(t),c=n.length,u=0;while(c>u)r.f(e,i=n[u++],t[i]);return e}},"3bbe":function(e,t,i){var n=i("861d");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},4362:function(e,t,i){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=i("df7c")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,i){var n=i("d039"),r=i("c6b6"),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},"485a":function(e,t,i){var n=i("861d");e.exports=function(e,t){var i,r;if("string"===t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if("string"!==t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},4930:function(e,t,i){var n=i("2d00"),r=i("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},"4c53":function(e,t,i){"use strict";var n=i("23e7"),r=i("857a"),o=i("af03");n({target:"String",proto:!0,forced:o("sub")},{sub:function(){return r(this,"sub","","")}})},"4d64":function(e,t,i){var n=i("fc6a"),r=i("50c4"),o=i("23cb"),s=function(e){return function(t,i,s){var c,u=n(t),a=r(u.length),h=o(s,a);if(e&&i!=i){while(a>h)if(c=u[h++],c!=c)return!0}else for(;a>h;h++)if((e||h in u)&&u[h]===i)return e||h||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(e,t,i){var n=i("a691"),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},5118:function(e,t,i){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i("c8ba"))},5135:function(e,t,i){var n=i("7b0b"),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(n(e),t)}},5692:function(e,t,i){var n=i("c430"),r=i("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.2",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,i){var n=i("d066"),r=i("241c"),o=i("7418"),s=i("825a");e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(s(e)),i=o.f;return i?t.concat(i(e)):t}},"577e":function(e,t,i){var n=i("d9b5");e.exports=function(e){if(n(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("1d80"),r=i("577e"),o=i("5899"),s="["+o+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),a=function(e){return function(t){var i=r(n(t));return 1&e&&(i=i.replace(c,"")),2&e&&(i=i.replace(u,"")),i}};e.exports={start:a(1),end:a(2),trim:a(3)}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5fda":function(t,i){t.exports=e},6017:function(e,t,i){(function(e,t){(function(e,i){"use strict";if(!e.setImmediate){var n,r=1,o={},s=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?p():d()?b():e.MessageChannel?m():c&&"onreadystatechange"in c.createElement("script")?v():y(),u.setImmediate=a,u.clearImmediate=h}function a(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var s={callback:e,args:t};return o[r]=s,n(r),r++}function h(e){delete o[e]}function f(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n);break}}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{f(t)}finally{h(e),s=!1}}}}function p(){n=function(e){t.nextTick((function(){l(e)}))}}function d(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}function b(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"===typeof i.data&&0===i.data.indexOf(t)&&l(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),n=function(i){e.postMessage(t+i,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;l(t)},n=function(t){e.port2.postMessage(t)}}function v(){var e=c.documentElement;n=function(t){var i=c.createElement("script");i.onreadystatechange=function(){l(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}function y(){n=function(e){setTimeout(l,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,i("c8ba"),i("4362"))},"69f3":function(e,t,i){var n,r,o,s=i("7f9a"),c=i("da84"),u=i("861d"),a=i("9112"),h=i("5135"),f=i("c6cd"),l=i("f772"),p=i("d012"),d="Object already initialized",b=c.WeakMap,m=function(e){return o(e)?r(e):n(e,{})},v=function(e){return function(t){var i;if(!u(t)||(i=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}};if(s||f.state){var y=f.state||(f.state=new b),w=y.get,j=y.has,g=y.set;n=function(e,t){if(j.call(y,e))throw new TypeError(d);return t.facade=e,g.call(y,e,t),t},r=function(e){return w.call(y,e)||{}},o=function(e){return j.call(y,e)}}else{var x=l("state");p[x]=!0,n=function(e,t){if(h(e,x))throw new TypeError(d);return t.facade=e,a(e,x,t),t},r=function(e){return h(e,x)?e[x]:{}},o=function(e){return h(e,x)}}e.exports={set:n,get:r,has:o,enforce:m,getterFor:v}},"6eeb":function(e,t,i){var n=i("da84"),r=i("9112"),o=i("5135"),s=i("ce4e"),c=i("8925"),u=i("69f3"),a=u.get,h=u.enforce,f=String(String).split("String");(e.exports=function(e,t,i,c){var u,a=!!c&&!!c.unsafe,l=!!c&&!!c.enumerable,p=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof t||o(i,"name")||r(i,"name",t),u=h(i),u.source||(u.source=f.join("string"==typeof t?t:""))),e!==n?(a?!p&&e[t]&&(l=!0):delete e[t],l?e[t]=i:r(e,t,i)):l?e[t]=i:s(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&a(this).source||c(this)}))},7156:function(e,t,i){var n=i("861d"),r=i("d2bb");e.exports=function(e,t,i){var o,s;return r&&"function"==typeof(o=t.constructor)&&o!==i&&n(s=o.prototype)&&s!==i.prototype&&r(e,s),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,i){var n=i("1d80");e.exports=function(e){return Object(n(e))}},"7c73":function(e,t,i){var n,r=i("825a"),o=i("37e8"),s=i("7839"),c=i("d012"),u=i("1be4"),a=i("cc12"),h=i("f772"),f=">",l="<",p="prototype",d="script",b=h("IE_PROTO"),m=function(){},v=function(e){return l+d+f+e+l+"/"+d+f},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},w=function(){var e,t=a("iframe"),i="java"+d+":";return t.style.display="none",u.appendChild(t),t.src=String(i),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},j=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}j="undefined"!=typeof document?document.domain&&n?y(n):w():y(n);var e=s.length;while(e--)delete j[p][s[e]];return j()};c[b]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(m[p]=r(e),i=new m,m[p]=null,i[b]=e):i=j(),void 0===t?i:o(i,t)}},"7f9a":function(e,t,i){var n=i("da84"),r=i("8925"),o=n.WeakMap;e.exports="function"===typeof o&&/native code/.test(r(o))},"825a":function(e,t,i){var n=i("861d");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,i){var n=i("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"857a":function(e,t,i){var n=i("1d80"),r=i("577e"),o=/"/g;e.exports=function(e,t,i,s){var c=r(n(e)),u="<"+t;return""!==i&&(u+=" "+i+'="'+r(s).replace(o,"&quot;")+'"'),u+">"+c+"</"+t+">"}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,i){var n,r,o;(function(i,s){r=[],n=s,o="function"===typeof n?n.apply(t,r):n,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var i,n,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,c=o.exec(p.stack)||s.exec(p.stack),u=c&&c[1]||!1,a=c&&c[2]||!1,h=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");u===h&&(i=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=i.replace(n,"$1").trim());for(var l=0;l<f.length;l++){if("interactive"===f[l].readyState)return f[l];if(f[l].src===u)return f[l];if(u===h&&f[l].innerHTML&&f[l].innerHTML.trim()===r)return f[l]}return null}}return e}))},8925:function(e,t,i){var n=i("c6cd"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},"90e3":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+n).toString(36)}},9112:function(e,t,i){var n=i("83ab"),r=i("9bf2"),o=i("5c6c");e.exports=n?function(e,t,i){return r.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},"94ca":function(e,t,i){var n=i("d039"),r=/#|\.prototype\./,o=function(e,t){var i=c[s(e)];return i==a||i!=u&&("function"==typeof t?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",a=o.POLYFILL="P";e.exports=o},9627:function(e,i){e.exports=t},"9bf2":function(e,t,i){var n=i("83ab"),r=i("0cfb"),o=i("825a"),s=i("a04b"),c=Object.defineProperty;t.f=n?c:function(e,t,i){if(o(e),t=s(t),o(i),r)try{return c(e,t,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},"9ee4":function(e,t){e.exports=i},a04b:function(e,t,i){var n=i("c04e"),r=i("d9b5");e.exports=function(e){var t=n(e,"string");return r(t)?t:String(t)}},a691:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},a9e3:function(e,t,i){"use strict";var n=i("83ab"),r=i("da84"),o=i("94ca"),s=i("6eeb"),c=i("5135"),u=i("c6b6"),a=i("7156"),h=i("d9b5"),f=i("c04e"),l=i("d039"),p=i("7c73"),d=i("241c").f,b=i("06cf").f,m=i("9bf2").f,v=i("58a8").trim,y="Number",w=r[y],j=w.prototype,g=u(p(j))==y,x=function(e){if(h(e))throw TypeError("Cannot convert a Symbol value to a number");var t,i,n,r,o,s,c,u,a=f(e,"number");if("string"==typeof a&&a.length>2)if(a=v(a),t=a.charCodeAt(0),43===t||45===t){if(i=a.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(a.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+a}for(o=a.slice(2),s=o.length,c=0;c<s;c++)if(u=o.charCodeAt(c),u<48||u>r)return NaN;return parseInt(o,n)}return+a};if(o(y,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var O,$=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof $&&(g?l((function(){j.valueOf.call(i)})):u(i)!=y)?a(new w(x(t)),i,$):x(t)},_=n?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;_.length>T;T++)c(w,O=_[T])&&!c($,O)&&m($,O,b(w,O));$.prototype=j,j.constructor=$,s(r,y,$)}},af03:function(e,t,i){var n=i("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b0c0:function(e,t,i){var n=i("83ab"),r=i("9bf2").f,o=Function.prototype,s=o.toString,c=/^\s*function ([^ (]*)/,u="name";n&&!(u in o)&&r(o,u,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(e){return""}}})},b622:function(e,t,i){var n=i("da84"),r=i("5692"),o=i("5135"),s=i("90e3"),c=i("4930"),u=i("fdbf"),a=r("wks"),h=n.Symbol,f=u?h:h&&h.withoutSetter||s;e.exports=function(e){return o(a,e)&&(c||"string"==typeof a[e])||(c&&o(h,e)?a[e]=h[e]:a[e]=f("Symbol."+e)),a[e]}},c04e:function(e,t,i){var n=i("861d"),r=i("d9b5"),o=i("485a"),s=i("b622"),c=s("toPrimitive");e.exports=function(e,t){if(!n(e)||r(e))return e;var i,s=e[c];if(void 0!==s){if(void 0===t&&(t="default"),i=s.call(e,t),!n(i)||r(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},c6cd:function(e,t,i){var n=i("da84"),r=i("ce4e"),o="__core-js_shared__",s=n[o]||r(o,{});e.exports=s},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}e.exports=i},ca84:function(e,t,i){var n=i("5135"),r=i("fc6a"),o=i("4d64").indexOf,s=i("d012");e.exports=function(e,t){var i,c=r(e),u=0,a=[];for(i in c)!n(s,i)&&n(c,i)&&a.push(i);while(t.length>u)n(c,i=t[u++])&&(~o(a,i)||a.push(i));return a}},cc12:function(e,t,i){var n=i("da84"),r=i("861d"),o=n.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,i){var n=i("da84");e.exports=function(e,t){try{Object.defineProperty(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,i){var n=i("da84"),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(n[e]):n[e]&&n[e][t]}},d1e7:function(e,t,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},d2bb:function(e,t,i){var n=i("825a"),r=i("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(i,[]),t=i instanceof Array}catch(o){}return function(i,o){return n(i),r(o),t?e.call(i,o):i.__proto__=o,i}}():void 0)},d9b5:function(e,t,i){var n=i("d066"),r=i("fdbf");e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return"function"==typeof t&&Object(e)instanceof t}},da84:function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},df75:function(e,t,i){var n=i("ca84"),r=i("7839");e.exports=Object.keys||function(e){return n(e,r)}},df7c:function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,i=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){i=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(i,n)}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return t=i(r(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),s="/"===o(e,-1);return e=i(r(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var i=e.length-1;i>=0;i--)if(""!==e[i])break;return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),o=n(i.split("/")),s=Math.min(r.length,o.length),c=s,u=0;u<s;u++)if(r[u]!==o[u]){c=u;break}var a=[];for(u=c;u<r.length;u++)a.push("..");return a=a.concat(o.slice(c)),a.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,r=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!r){n=o;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var i=n(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,i=0,n=-1,r=!0,o=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===n&&(r=!1,n=s+1),46===c?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){i=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===i+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i("4362"))},e893:function(e,t,i){var n=i("5135"),r=i("56ef"),o=i("06cf"),s=i("9bf2");e.exports=function(e,t){for(var i=r(t),c=s.f,u=o.f,a=0;a<i.length;a++){var h=i[a];n(e,h)||c(e,h,u(t,h))}}},f772:function(e,t,i){var n=i("5692"),r=i("90e3"),o=n("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},fae3:function(e,t,i){"use strict";if(i.r(t),i.d(t,"Ros3dArrow",(function(){return d})),i.d(t,"Ros3dAxes",(function(){return j})),i.d(t,"Ros3dGrid",(function(){return T})),i.d(t,"Ros3dInteractiveMarkerClient",(function(){return P})),i.d(t,"Ros3dLaserScan",(function(){return A})),i.d(t,"Ros3dMarkerArrayClient",(function(){return W})),i.d(t,"Ros3dMarkerClient",(function(){return Q})),i.d(t,"Ros3dOccupancyGridClient",(function(){return ne})),i.d(t,"Ros3dPath",(function(){return ae})),i.d(t,"Ros3dPointCloud2",(function(){return be})),i.d(t,"Ros3dPoseArrow",(function(){return ge})),i.d(t,"Ros3dSceneNode",(function(){return Se})),i.d(t,"Ros3dUrdfClient",(function(){return Ee})),i.d(t,"Ros3dViewer",(function(){return Fe})),"undefined"!==typeof window){var n=window.document.currentScript,r=i("8875");n=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(i.p=o[1])}var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},c=[],u=(i("a9e3"),i("b0c0"),i("fcaf")),a=i("5fda"),h={name:"ros3d-arrow",inheritAttrs:!1,props:{visible:{type:Boolean,default:!0,require:!1},x:{type:Number,default:0,require:!1},y:{type:Number,default:0,require:!1},z:{type:Number,default:0,require:!1},directionX:{type:Number,default:1,require:!1},directionY:{type:Number,default:0,require:!1},directionZ:{type:Number,default:0,require:!1},length:{type:Number,default:1,require:!1},headLength:{type:Number,default:.2,require:!1},shaftDiameter:{type:Number,default:.05,require:!1},headDiameter:{type:Number,default:.1,require:!1},color:{type:String,default:"#00ff00",require:!1}},watch:{color:function(e){this.object.material.color.set(e)},x:function(){this.$nextTick(this.setPosition)},y:function(){this.$nextTick(this.setPosition)},z:function(){this.$nextTick(this.setPosition)},directionX:function(){this.$nextTick(this.setDirection)},directionY:function(){this.$nextTick(this.setDirection)},directionZ:function(){this.$nextTick(this.setDirection)},length:function(e){this.object.setLength(e)},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)},setPosition:function(){this.object.position.set(this.x,this.y,this.z)},setDirection:function(){this.object.setDirection(new a["Vector3"](this.directionX||0,this.directionY||0,this.directionZ||0))}},mounted:function(){this.object=new u["Arrow"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,origin:new a["Vector3"](this.x||0,this.y||0,this.z||0),direction:new a["Vector3"](this.directionX||0,this.directionY||0,this.directionZ||0),length:this.length,headLength:this.headLength,shaftDiameter:this.shaftDiameter,headDiameter:this.headDiameter,material:new a["MeshBasicMaterial"]({color:this.color})}),this.object.name=this._uid,this.visible&&this.show()},beforeDestroy:function(){this.hide()}},f=h;function l(e,t,i,n,r,o,s,c){var u,a="function"===typeof e?e.options:e;if(t&&(a.render=t,a.staticRenderFns=i,a._compiled=!0),n&&(a.functional=!0),o&&(a._scopeId="data-v-"+o),s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},a._ssrRegister=u):r&&(u=c?function(){r.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(a.functional){a._injectStyles=u;var h=a.render;a.render=function(e,t){return u.call(t),h(e,t)}}else{var f=a.beforeCreate;a.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:a}}var p=l(f,s,c,!1,null,null,null),d=p.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},m=[],v={name:"ros3d-axes",props:{visible:{type:Boolean,default:!0,require:!1},x:{type:Number,default:0,require:!1},y:{type:Number,default:0,require:!1},z:{type:Number,default:0,require:!1},lineType:{type:String,default:"full",require:!1},lineDashLength:{type:Number,default:.1,require:!1},scale:{type:Number,default:1,require:!1},headLength:{type:Number,default:.1,require:!1},shaftRadius:{type:Number,default:.008,require:!1},headRadius:{type:Number,default:.023,require:!1}},watch:{visible:function(e){e?this.show():this.hide()},x:function(){this.$nextTick(this.setPosition)},y:function(){this.$nextTick(this.setPosition)},z:function(){this.$nextTick(this.setPosition)},lineType:function(){this.$nextTick(this.createObject)},lineDashLength:function(){this.$nextTick(this.createObject)},scale:function(){this.$nextTick(this.createObject)},headLength:function(){this.$nextTick(this.createObject)},shaftRadius:function(){this.$nextTick(this.createObject)},headRadius:function(){this.$nextTick(this.createObject)}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)},createObject:function(){null!=this.object&&this.hide(),this.object=new u["Axes"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,lineType:this.lineType,lineDashLength:this.lineDashLength,scale:this.scale,headLength:this.headLength,shaftRadius:this.shaftRadius,headRadius:this.headRadius}),this.object.name=this._uid,this.setPosition(),this.visible&&this.show()},setPosition:function(){this.object.position.set(this.x,this.y,this.z)}},mounted:function(){this.createObject()},beforeDestroy:function(){this.hide()}},y=v,w=l(y,b,m,!1,null,null,null),j=w.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},x=[],O={name:"ros3d-grid",props:{visible:{type:Boolean,default:!0,require:!1},numCells:{type:Number,default:10,require:!1},color:{type:String,default:"#cccccc",require:!1},lineWidth:{type:Number,default:1,require:!1},cellSize:{type:Number,default:1,require:!1}},watch:{visible:function(e){e?this.show():this.hide()},numCells:function(){this.$nextTick(this.createObject)},color:function(){this.$nextTick(this.createObject)},lineWidth:function(){this.$nextTick(this.createObject)},cellSize:function(){this.$nextTick(this.createObject)}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)},createObject:function(){null!=this.object&&this.hide(),this.object=new u["Grid"]({num_cells:this.numCells,color:this.color,lineWidth:this.lineWidth,cellSize:this.cellSize}),this.object.name=this._uid,this.visible&&this.show()}},mounted:function(){this.createObject()},beforeDestroy:function(){this.hide()}},$=O,_=l($,g,x,!1,null,null,null),T=_.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},q=[],k={name:"ros3d-interactive-marker-client",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"",require:!1}},watch:{topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)}},mounted:function(){this.object=new u["InteractiveMarkerClient"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.selectableObjects,camera:this.$parent.viewer.camera,topic:this.topic}),this.object.name=this._uid,this.visible||this.hide()},beforeDestroy:function(){this.object.unsubscribe(),this.hide()}},N=k,C=l(N,S,q,!1,null,null,null),P=C.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},D=[],I={name:"ros3d-laser-scan",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"/scan",require:!1},compression:{type:String,default:"cbor",require:!1},max_pts:{type:Number,default:1e4,require:!1},pointRatio:{type:Number,default:1,require:!1},messageRatio:{type:Number,default:1,require:!1},color:{type:String,default:"#ff0000",require:!1},particleSize:{type:Number,default:.25,require:!1}},watch:{visible:function(e){e?this.show():this.hide()},topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},compression:function(e){this.object.unsubscribe(),this.object.compression=e,this.object.subscribe()},max_pts:function(){this.$nextTick(this.createObject)},messageRatio:function(){this.$nextTick(this.createObject)},color:function(){this.$nextTick(this.createObject)},particleSize:function(){this.$nextTick(this.createObject)}},methods:{show:function(){this.object.subscribe(),null!=this.object.points.sn&&this.$parent.viewer.scene.add(this.object.points.sn)},hide:function(){this.object.unsubscribe(),null!=this.object.points.sn&&this.$parent.viewer.scene.remove(this.object.points.sn)},createObject:function(){null!=this.object&&this.hide(),this.object=new u["LaserScan"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,topic:this.topic,compression:this.compression,max_pts:this.max_pts,pointRatio:this.pointRatio,messageRatio:this.messageRatio,material:{color:this.color,size:this.particleSize}}),this.object.name=this._uid,this.visible||this.hide()}},mounted:function(){this.createObject()},beforeDestroy:function(){this.object.unsubscribe(),this.hide()}},R=I,z=l(R,E,D,!1,null,null,null),A=z.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},L=[],B={name:"ros3d-marker-array-client",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"",require:!1}},watch:{topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object.rootObject)},hide:function(){this.$parent.viewer.scene.remove(this.object.rootObject)}},mounted:function(){this.object=new u["MarkerArrayClient"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,topic:this.topic}),this.object.name=this._uid,this.visible&&this.$parent.viewer.scene.add(this.object.rootObject)},beforeDestroy:function(){this.object.unsubscribe(),this.hide()}},F=B,V=l(F,M,L,!1,null,null,null),W=V.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},X=[],Y={name:"ros3d-marker-client",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"",require:!1}},watch:{topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object.rootObject)},hide:function(){this.$parent.viewer.scene.remove(this.object.rootObject)}},mounted:function(){var e=this;this.object=new u["MarkerClient"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,topic:this.topic}),this.object.name=this._uid,this.object.on("change",(function(){return e.$emit("update:marker",{topic:e.topic,frame:e.object.markers[0].frameID,marker:e.object.markers[0].children[0]})})),this.visible&&this.show()},beforeDestroy:function(){this.object.unsubscribe(),this.hide()}},U=Y,H=l(U,G,X,!1,null,null,null),Q=H.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},K=[],J=i("9627"),ee={name:"ros3d-occupancy-grid-client",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"",require:!1},x:{type:Number,default:0,require:!1},y:{type:Number,default:0,require:!1},z:{type:Number,default:0,require:!1},continuous:{type:Boolean,default:!1,require:!1}},watch:{topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},continuous:function(e){this.object.continuous=e,e&&this.object.subscribe()},x:function(){this.$nextTick(this.setOffset)},y:function(){this.$nextTick(this.setOffset)},z:function(){this.$nextTick(this.setOffset)},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object.sceneNode)},hide:function(){null!=this.object.sceneNode&&this.$parent.viewer.scene.remove(this.object.sceneNode)},setOffset:function(){this.object.unsubscribe(),this.object.offsetPose=new J["Pose"]({position:{x:this.x,y:this.y,z:this.z}}),this.object.subscribe()}},mounted:function(){var e=this;this.object=new u["OccupancyGridClient"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,topic:this.topic,continuous:this.continuous,offsetPose:new J["Pose"]({position:{x:this.x,y:this.y,z:this.z}})}),this.object.name=this._uid,this.object.processMessage=function(t){u["OccupancyGridClient"].prototype.processMessage.call(e.object,t)},this.visible||this.hide()},beforeDestroy:function(){this.hide()}},te=ee,ie=l(te,Z,K,!1,null,null,null),ne=ie.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},oe=[],se={name:"ros3d-path",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"",require:!1},color:{type:String,default:"#009688",require:!1}},watch:{topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},color:function(e){this.object.color=e},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)}},mounted:function(){this.object=new u["Path"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,topic:this.topic,color:this.color}),this.object.name=this._uid,this.visible||this.hide()},beforeDestroy:function(){this.object.unsubscribe(),this.hide()}},ce=se,ue=l(ce,re,oe,!1,null,null,null),ae=ue.exports,he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},fe=[],le={name:"ros3d-point-cloud2",props:{visible:{type:Boolean,default:!0,require:!1},topic:{type:String,default:"/points",require:!1},compression:{type:String,default:"cbor",require:!1},max_pts:{type:Number,default:1e4,require:!1},pointRatio:{type:Number,default:1,require:!1},messageRatio:{type:Number,default:1,require:!1},colorsrc:{type:String,default:"rgb",require:!1},colormap:{type:Object,default:void 0,require:!1},color:{type:String,default:"#ff0000",require:!1},particleSize:{type:Number,default:.25,require:!1},sizeAttenuation:{type:Boolean,default:!0,require:!1},transparent:{type:Boolean,default:!1,require:!1},opacity:{type:Number,default:1,require:!1}},watch:{visible:function(e){e?this.show():this.hide()},topic:function(e){this.object.unsubscribe(),this.object.topicName=e,this.object.subscribe()},compression:function(e){this.object.unsubscribe(),this.object.compression=e,this.object.subscribe()},max_pts:function(){this.$nextTick(this.createObject)},messageRatio:function(){this.$nextTick(this.createObject)},colorsrc:function(){this.$nextTick(this.createObject)},colormap:function(){this.$nextTick(this.createObject)},color:function(){this.$nextTick(this.createObject)},particleSize:function(){this.$nextTick(this.createObject)},sizeAttenuation:function(){this.$nextTick(this.createObject)},transparent:function(){this.$nextTick(this.createObject)},opacity:function(){this.$nextTick(this.createObject)}},methods:{show:function(){this.object.subscribe(),null!=this.object.points.sn&&this.$parent.viewer.scene.add(this.object.points.sn)},hide:function(){this.object.unsubscribe(),null!=this.object.points.sn&&this.$parent.viewer.scene.remove(this.object.points.sn)},createObject:function(){null!=this.object&&this.hide(),this.object=new u["PointCloud2"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,topic:this.topic,compression:this.compression,max_pts:this.max_pts,pointRatio:this.pointRatio,messageRatio:this.messageRatio,material:{color:this.color,size:this.particleSize,sizeAttenuation:this.sizeAttenuation,transparent:this.transparent,opacity:this.opacity}}),this.object.name=this._uid,this.visible||this.hide()}},mounted:function(){this.createObject()},beforeDestroy:function(){this.object.unsubscribe(),this.hide()}},pe=le,de=l(pe,he,fe,!1,null,null,null),be=de.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},ve=[],ye={name:"ros3d-pose-arrow",inheritAttrs:!1,props:{visible:{type:Boolean,default:!0,require:!1},pose:{type:Object,default:void 0,require:!1},length:{type:Number,default:1,require:!1},headLength:{type:Number,default:.2,require:!1},shaftDiameter:{type:Number,default:.05,require:!1},headDiameter:{type:Number,default:.1,require:!1},color:{type:String,default:"#00ff00",require:!1}},watch:{color:function(e){this.object.material.color.set(e)},pose:function(){this.$nextTick(this.setPose)},length:function(e){this.object.setLength(e)},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)},setPose:function(){if(void 0!=this.pose){this.object.position.set(this.pose.position.x,this.pose.position.y,this.pose.position.z);var e=new a["Quaternion"](this.pose.orientation.x,this.pose.orientation.y,this.pose.orientation.z,this.pose.orientation.w),t=new a["Vector3"](1,0,0);t.applyQuaternion(e),this.object.setDirection(t)}}},mounted:function(){this.object=new u["Arrow"]({ros:this.$parent.ros,tfClient:this.$parent.tfClient,rootObject:this.$parent.viewer.scene,length:this.length,headLength:this.headLength,shaftDiameter:this.shaftDiameter,headDiameter:this.headDiameter,material:new a["MeshBasicMaterial"]({color:this.color})}),this.object.name=this._uid,this.setPose(),this.visible&&this.show()},beforeDestroy:function(){this.hide()}},we=ye,je=l(we,me,ve,!1,null,null,null),ge=je.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},Oe=[],$e={name:"ros3d-scene-node",props:{model:{type:Object,require:!0},frameID:{type:String,default:"base_link",require:!1},visible:{type:Boolean,default:!0,require:!1}},watch:{model:function(){this.$nextTick(this.createObject)},frameID:function(){this.$nextTick(this.createObject)},visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object)},hide:function(){var e=this.$parent.viewer.scene.getObjectByName(this._uid);null!=e&&this.$parent.viewer.scene.remove(e)},createObject:function(){null!=this.object&&this.hide(),null!=this.model&&(this.object=new u["SceneNode"]({tfClient:this.$parent.tfClient,frameID:this.frameID,object:this.model}),this.object.name=this._uid,this.show())}},beforeDestroy:function(){this.object.unsubscribeTf(),this.hide()}},_e=$e,Te=l(_e,xe,Oe,!1,null,null,null),Se=Te.exports,qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},ke=[],Ne={name:"ros3d-urdf-client",props:{visible:{type:Boolean,default:!0,require:!1},param:{type:String,default:"robot_description",require:!1},path:{type:String,default:null,require:!1},tfPrefix:{type:String,default:null,require:!1}},watch:{visible:function(e){e?this.show():this.hide()}},methods:{show:function(){this.$parent.viewer.scene.add(this.object.rootObject)},hide:function(){this.$parent.viewer.scene.remove(this.object.rootObject)}},mounted:function(){this.object=new u["UrdfClient"]({ros:this.$parent.ros,param:this.param,tfClient:this.$parent.tfClient,path:this.path,tfPrefix:this.tfPrefix,loader:u["COLLADA_LOADER"]}),this.object.name=this._uid,this.visible&&this.show()},beforeDestroy:function(){this.hide()}},Ce=Ne,Pe=l(Ce,qe,ke,!1,null,null,null),Ee=Pe.exports,De=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.loaded?e._t("default"):e._e()],2)},Ie=[],Re=(i("4c53"),i("9ee4")),ze=i.n(Re),Ae=i("5118"),Me={name:"ros3d-viewer",props:{ros:{type:Object,require:!0},background:{type:String,default:"#7e7e7e",require:!1},antialias:{type:Boolean,default:!0,require:!1},fixedFrame:{type:String,default:"/map",require:!1},longPressTolerance:{type:Number,default:15,require:!1},longPressDuration:{type:Number,default:750,require:!1},initialCameraPose:{type:Object,require:!1,default:function(){return{x:8,y:7,z:50}}}},data:function(){return{viewer:null,tfClient:null,loaded:!1,hold:!1,position:null,direction:null,screenPosition:null}},watch:{hold:function(e,t){e&&!t?this.viewer.scene.add(this.arrow):t&&!e&&this.viewer.scene.remove(this.arrow)},position:function(e){null!=e&&(this.arrow.position.set(e.x,e.y,e.z+.05),this.circle.position.set(e.x,e.y,e.z+.05))},direction:function(e){null!=e&&this.arrow.setDirection(e)}},mounted:function(){var e=this;this.$el.id="viewer",this.viewer=new u["Viewer"]({divID:this.$el.id,width:this.$el.clientWidth,height:this.$el.clientHeight,antialias:this.antialias,background:this.background,displayPanAndZoomFrame:!1,cameraPose:this.initialCameraPose}),window.addEventListener("resize",this.handleResize),this.viewer.draw=function(){ze.a.update(),u["Viewer"].prototype.draw.call(e.viewer)},this.tfClient=new J["TFClient"]({ros:this.ros,angularThres:1e-4,transThres:1e-4,rate:10,fixedFrame:this.fixedFrame});var t=["contextmenu","click","mouseout","mousedown","mouseup","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove"];this.listeners={},t.forEach((function(t){e.listeners[t]=e.processDomEvent.bind(e),e.$el.addEventListener(t,e.listeners[t],!0)}),this),window.scene=window.Scene=this.viewer.scene,this.arrow=new u["Arrow"]({ros:this.ros,tfClient:this.tfClient,rootObject:this.viewer.scene,material:new a["MeshBasicMaterial"]({color:16711680})});var i=new a["CircleGeometry"](1,32),n=new a["MeshPhongMaterial"]({color:0,specular:6710886,emissive:10044416,shininess:0,opacity:.5,transparent:!0});this.circle=new a["Mesh"](i,n),this.circle.visible=!1,this.circle.scale.set(0,0,0),this.viewer.scene.add(this.circle),this.loaded=!0},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.viewer.resize(this.$el.clientWidth,this.$el.clientHeight)},startTimer:function(){var e=this;this.timer&&Object(Ae["clearTimeout"])(this.timer),this.timer=Object(Ae["setTimeout"])((function(){return e.hold=!0}),this.longPressDuration)},stopTimer:function(){this.timer&&(Object(Ae["clearTimeout"])(this.timer),this.timer=void 0),this.hold=!1,this.position=null,this.direction=null,this.screenPosition=null,this.circle.visible=!1,this.circle.scale.set(0,0,0)},processDomEvent:function(e){var t=this;if(this.$emit(e.type),"mouseout"!==e.type&&"touchleave"!==e.type&&"touchcancel"!==e.type)if("mouseup"!==e.type&&"click"!==e.type&&"touchend"!==e.type){var i,n;if(-1!==e.type.indexOf("touch")){i=0,n=0;for(var r=0;r<e.touches.length;++r)i+=e.touches[r].clientX,n+=e.touches[r].clientY;i/=e.touches.length,n/=e.touches.length}else i=e.clientX,n=e.clientY;var o=new a["Vector3"],s=new a["Vector3"];o.set(i/window.innerWidth*2-1,-n/window.innerHeight*2+1,.5),o.unproject(this.viewer.camera),o.sub(this.viewer.camera.position).normalize();var c,u,h,f=-this.viewer.camera.position.z/o.z;if(s.copy(this.viewer.camera.position).add(o.multiplyScalar(f)),"mousedown"===e.type&&2===e.button)return this.hold=!0,this.position=s,this.screenPosition=[i,n],c=new a["Vector3"],u=20,h=c.subVectors(this.position,this.viewer.camera.position).length()/u,void this.arrow.scale.set(h,h,1);"touchmove"!==e.type&&"mousemove"!==e.type?"touchstart"===e.type&&(this.position=s,this.screenPosition=[i,n],this.startTimer(),c=new a["Vector3"],u=10,h=c.subVectors(this.position,this.viewer.camera.position).length()/u,this.arrow.scale.set(h,h,1),this.circle.visible=!0,this.circleScaleTween&&this.circleScaleTween.stop(),this.circle.scale.set(0,0,0),this.circleScaleTween=new ze.a.Tween(this.circle.scale.clone()).to(new a["Vector3"](h,h,1),this.longPressDuration).easing(ze.a.Easing.Back.InOut).onUpdate((function(e){t.circle.scale.copy(e)})).start()):this.hold?(this.hold=!0,this.direction=s.sub(this.position),e.stopPropagation()):(null==this.screenPosition||Math.sqrt((this.screenPosition[0]-i)*(this.screenPosition[0]-i)+(this.screenPosition[1]-n)*(this.screenPosition[1]-n))>this.longPressTolerance)&&this.stopTimer()}else{if(this.hold){var l=new a["Quaternion"];this.arrow.getWorldQuaternion(l),l=l.multiply(new a["Quaternion"](0,0,Math.sqrt(.5),Math.sqrt(.5))),this.$emit("touch",{pose:new J["Pose"]({position:new J["Vector3"]({x:this.position.x,y:this.position.y}),orientation:new J["Quaternion"]({x:l.x,y:l.y,z:l.z,w:l.w})}),screenPosition:this.screenPosition})}this.stopTimer()}else this.stopTimer()}}},Le=Me,Be=l(Le,De,Ie,!1,null,null,null),Fe=Be.exports},fc6a:function(e,t,i){var n=i("44ad"),r=i("1d80");e.exports=function(e){return n(r(e))}},fcaf:function(e,t){e.exports=n},fdbf:function(e,t,i){var n=i("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=vue-ros3djs.umd.min.js.map